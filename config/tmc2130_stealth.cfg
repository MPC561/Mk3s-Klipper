# WARNING: DO NOT EDIT THIS FILE UNLESS YOU KNOW WHAT YOU ARE DOING


[printer]
kinematics: cartesian

## MK3.5 Settings based on MK3.5 IS PrusaSlicer factory profile machine limits
max_velocity: 200
max_accel: 2000
minimum_cruise_ratio: 0.5
max_z_velocity: 10
max_z_accel: 200


## MK3S+ Settings based on MK3S+ PrusaSlicer factory profile machine limits, if you want to maintain stock speed limits for some reason.
#max_velocity: 200
#max_accel: 1000
#max_accel_to_decel: 500
#max_z_velocity: 12
#max_z_accel: 200

[tmc2130 stepper_x]
cs_pin: PG0
interpolate: True
#stealthchop_threshold: 30
stealthchop_threshold: 999999
run_current: .281738 #dz0ny repo value
#run_current: .300 #based on Prusa MK3 factory firmware current
sense_resistor: 0.220
diag1_pin: !PK2
driver_IHOLDDELAY: 15
driver_TPOWERDOWN: 0
driver_TBL: 2
driver_TOFF: 3
driver_HEND: 1
driver_HSTRT: 5
driver_PWM_FREQ: 2
driver_PWM_GRAD: 2
driver_PWM_AMPL: 230
driver_PWM_AUTOSCALE: True
driver_SGT: 3

[tmc2130 stepper_y]
cs_pin: PG2
interpolate: True
#stealthchop_threshold: 80
stealthchop_threshold: 999999
run_current: .281738 #dz0ny repo value
#run_current: .300 #based on Prusa MK3 factory firmware current
sense_resistor: 0.220
diag1_pin: !PK7
driver_IHOLDDELAY: 8
driver_TPOWERDOWN: 0
driver_TBL: 2
driver_TOFF: 3
driver_HEND: 1
driver_HSTRT: 5
driver_PWM_FREQ: 2
driver_PWM_GRAD: 2
driver_PWM_AMPL: 230
driver_PWM_AUTOSCALE: True
driver_SGT: 3

[tmc2130 stepper_z]
cs_pin: PK5
interpolate: True
stealthchop_threshold: 999999
#stealthchop_threshold: 80
run_current: .53033 #dz0ny repo value
#run_current: .580 #based on Prusa MK3 factory firmware current
sense_resistor: 0.220
diag1_pin: !PK6
interpolate: True
driver_IHOLDDELAY: 8
driver_TPOWERDOWN: 0
driver_TBL: 2
driver_TOFF: 3
driver_HEND: 1
driver_HSTRT: 5
driver_PWM_FREQ: 2
driver_PWM_GRAD: 4
driver_PWM_AMPL: 200
driver_PWM_AUTOSCALE: True
driver_SGT: 4

[tmc2130 extruder]
cs_pin: PK4
interpolate: True
#run_current: .513757 #dz0ny repo value
run_current: .540 #based on Prusa MK3 factory firmware current
sense_resistor: 0.220
diag1_pin: !PK3
driver_IHOLDDELAY: 8
driver_TPOWERDOWN: 0
driver_TBL: 2
driver_TOFF: 3
driver_HEND: 1
driver_HSTRT: 5
driver_PWM_FREQ: 2
driver_PWM_GRAD: 4
driver_PWM_AMPL: 240
driver_PWM_AUTOSCALE: True
driver_SGT: 3
